{% extends "main/base.html" %}

{% block title %}All Posts{% endblock  %}




{% block content %}

    <div class="row">
        <div class="d-flex justify-content-between align-items-center mb-5">
            <h1>WELCOME !</h1>
            <a class="btn btn-primary" href="{% url 'main:add_post' %}">Add Post</a>
        </div>
    <div/>

    <div class="row">
        <div class= "d-flex align-items-center justify-content-between ">
            <h1> posts : </h1>
            <div clas="d-flex justify-content-between align-items-center mb-5">
                <a href="{% url 'main:all_posts' %}" class="p-2 ps-3 pe-3 rounded-pill cat  text-decoration-none">All</a>
                {% for val, key in categories %}
                    <a href="?cat={{val}}" class="p-2 ps-3 pe-3 rounded-pill cat {{ val }} text-decoration-none">{{val}}</a>
                {% endfor %}
            </div>  
        </div>  
        {% for post in posts %}
            <div class="col-4">
                <div class="d-flex flex-column gap-2 border border-1 shadow p-3 rounded-4 h-100">
                    
                    <!--image-->
                    <img src="{{post.poster.url}}" class='w-100 rounded-2' />
                    
                    <!-- title -->
                    <a href="{% url "main:post_detail" post.id %}"><h2> {{ post.title }}</h2></a>

                    <!--category-->
                    <h6 class='text-white pt-1 pb-1 ps-3 pe-3 bg-dark rounded-pill'>{{post.category}}</h6>

                    <!-- published at -->
                    <h6>{{post.published_at}}</h6>
                </div>
            </div>     
        {% endfor %} 
    </div>

{% endblock %}

